<center>北京师范大学</center>
<center>2022-2023学年春季学期  “网络实验”实验报告</center>
<center><b><font size=6 bold=true>实验：华为静态路由配置</font><b></center>




| 姓    名 |   学    号   | 学    院 | 日    期  |
| :------: | :----------: | :------: | :-------: |
|  段欣然  | 202011081033 | 人工智能 | 2023.5.10 |

<hr>

**1.实验目的**：

- 掌握华为路由器和交换机的基本配置方法
- 理解静态路由的原理和作用
- 学习使用vlan和trunk技术划分和连接不同网段
- 能够通过ping命令测试网络连通性和故障排除

**2.实验内容**：

- 使用ARI200路由器和S5735交换机搭建如下图所示的网络拓扑
- 在路由器上配置两个接口的IP地址，分别为192.168.1.1/24和1.1.1.1/24
- 在SW1上创建两个vlan，分别为vlan100和vlan200，并将端口gi0/0/1划入vlan100，端口gi0/0/23划入vlan200
- 在SW2上将端口gi0/0/1划入vlan200，并将端口gi0/0/23设置为trunk模式
- 在SW1上将端口gi0/0/10设置为trunk模式，并连接到路由器的接口gi0/0/0
- 在SW2上将端口gi0/0/23连接到路由器的接口gi0/0/1
- 在SW1上配置一条到1.1.1.1网段的静态路由，指向下一跳为192.168.1.1
- 在PC上配置IP地址为192.168.100.2/24，网关为192.168.100.1，并测试能否ping通192.168.1.2和1.1.1.1

$\boxtimes$ 基础性实验  $\square$  综合性实验  $\square$ 设计性实验

<hr>													
<center><b><font size=6>实验报告正文</font></b></center>
ARI200：路由器, 账户名：admin，默认密码：Admin@huawei 

S5735交换机，账户名：admin，默认密码：[Admin@huawei.com](mailto:Admin@huawei.com)

实验设备的连线结构如下：

![image-20230518134621058](D:\大三冲刺\网络实验\实验报告\lab7\image-20230518134621058.png)

# 实验过程

## 第一个交换机

- 对第一个交换机重启，并进入BootROM菜单，选择“Clear the console user password”，然后重启
- ![image-20230518135141801](D:\大三冲刺\网络实验\实验报告\lab7\image-20230518135141801.png)
- ![image-20230518135150190](D:\大三冲刺\网络实验\实验报告\lab7\image-20230518135150190.png)

![image-20230518135159138](D:\大三冲刺\网络实验\实验报告\lab7\image-20230518135159138.png)

- 输入命令`vlan batch 100 200`创建两个vlan

![image-20230518135354243](D:\大三冲刺\网络实验\实验报告\lab7\image-20230518135354243.png)

- 输入命令`interface gigabitethernet 0/0/1`进入端口gi0/0/1的配置模式
- 输入命令`port link-type access`将端口模式设置为接入模式
- 输入命令`port default vlan 100`将端口划入vlan100

![image-20230518135440245](D:\大三冲刺\网络实验\实验报告\lab7\image-20230518135440245.png)

- 输入命令`ip address 192.168.100.1 24`配置端口的IP地址

![image-20230518135619672](D:\大三冲刺\网络实验\实验报告\lab7\image-20230518135619672.png)

- 配置trunk

![image-20230518135948350](D:\大三冲刺\网络实验\实验报告\lab7\image-20230518135948350.png)

![image-20230518135953481](D:\大三冲刺\网络实验\实验报告\lab7\image-20230518135953481.png)

- 查看vlan结果

![image-20230518140223577](D:\大三冲刺\网络实验\实验报告\lab7\image-20230518140223577.png)

## 第二个交换机

- 对第二个交换机重启，并进入BootROM菜单，选择“Clear the console user password”，然后重启
- 在交换机登录界面输入用户名admin和默认密码[Admin@huawei.com](mailto:Admin@huawei.com)，并进入系统视图模式
- 输入命令`interface gigabitethernet 0/0/1`进入端口gi0/0/1的配置模式
- 输入命令`port link-type access`将端口模式设置为接入模式
- 输入命令`port default vlan 200`将端口划入vlan200
- 输入命令`quit`返回上一级
- 输入命令`interface gigabitethernet 0/0/23`进入端口gi0/0/23的配置模式
- 输入命令`port link-type trunk`将端口模式设置为trunk模式
- 输入命令`port trunk allow-pass vlan all`允许通过所有vlan的数据
- 输入命令`quit`返回上一级
- 输入命令`save`保存配置并退出

## 路由器

- 对路由器重启，并进入BootROM菜单，选择“Clear the console user password”，然后重启

![image-20230518140519808](D:\大三冲刺\网络实验\实验报告\lab7\image-20230518140519808.png)

![image-20230518140524940](D:\大三冲刺\网络实验\实验报告\lab7\image-20230518140524940.png)

![image-20230518140533036](D:\大三冲刺\网络实验\实验报告\lab7\image-20230518140533036.png)

- 回到SW1加一条到1.1.1.1的静态路由，路由表如下

![image-20230518140546989](D:\大三冲刺\网络实验\实验报告\lab7\image-20230518140546989.png)

- 在本机上配置好ip和网关，ping1.1.1.1和192.168.1.2

![image-20230518140603440](D:\大三冲刺\网络实验\实验报告\lab7\image-20230518140603440.png)





# 实验结果

- 根据实验步骤，成功搭建了如图所示的网络拓扑，并完成了相应的配置
- 在PC上可以ping通所有的设备，表明静态路由配置正确，vlan和trunk 技术生效，网络连通性良好
- 以下是ping命令的截图：

![image-20230518140609367](D:\大三冲刺\网络实验\实验报告\lab7\image-20230518140609367.png)

# 实验反思

- 通过这次实验，我学习了华为路由器和交换机的基本配置方法，理解了静态路由的原理和作用，学习了使用vlan和trunk技术划分和连接不同网段，能够通过ping命令测试网络连通性和故障排除。
- 我觉得这次实验很有意义，让我对网络工程有了更深的认识和兴趣，也锻炼了我的动手能力和逻辑思维能力。
- 我还发现了自己的不足之处，比如在配置路由器和交换机时，有时会忘记保存配置或退出配置模式，导致出现一些错误。我需要在以后的实验中更加注意细节，提高自己的操作水平。
